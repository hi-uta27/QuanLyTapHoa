name: Action on pull request
# Triggers the workflow on pull request events but only for default and protected branches
on: pull_request
jobs:
  analyze: 
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
    # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
    - uses: actions/checkout@v2
    # Install Kotlin enviroment on QuanLyTapHoa
    - uses: hi-uta27/QuanLyTapHoa@main
      with:
        version: 1.7.20
        install-native: true
    - run: kotlinc -version
    - run: kotlinc-native -version
    - run: kotlinc myProgram.kt -include-runtime -d /tmp/hello.jar; java -jar /tmp/hello.jar
    - run: kotlin myScript.main.kts
